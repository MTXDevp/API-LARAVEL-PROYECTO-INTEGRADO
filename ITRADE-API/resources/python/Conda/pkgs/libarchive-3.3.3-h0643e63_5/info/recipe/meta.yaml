# This file created by conda-build 3.17.3
# meta.yaml template originally from:
# C:\ci\containers\000014eb0vb\tmp\build\80754af9\rsync-recipes\libarchive-3.3.3-c_compiler_vs2017-vc_14-on-winbuilder, last modified Wed Dec 12 12:50:39 2018
# ------------------------------------------------

package:
    name: libarchive
    version: 3.3.3
source:
    fn: libarchive-3.3.3.tar.gz
    patches:
        - 0001-Add-lib-to-CMAKE_FIND_LIBRARY_PREFIXES-for-lzma.patch
        - 0002-xar-fix-bad-seek-in-move_reading_point.patch
        - 0003-VC9-compatibility-test-for-BCryptDeriveKeyPBKDF2.patch
        - 0004-VC9-compatibility-define-BCRYPT_SUCCESS.patch
        - 0006-VC-openssl-define-inline-as-__inline.patch
        - 0007-CMake-VC9-compatibility-ignore-some-warnings.patch
        - 0008-VC9-compatibility-remove-C99.patch
        - 0009-CMake-Force-Multi-threaded-DLL-runtime.patch
        - 0010-Use-CreateSymbolicLinkW-on-Windows-for-symlinks-WIP.patch
    sha256: 720da414e7aebb255fcdaee106894e4d30e2472ac1390c2c15b70c84c7479658
    url: https://github.com/libarchive/libarchive/archive/v3.3.3.tar.gz
build:
    number: '5'
    string: h0643e63_5
requirements:
    build:
        - ca-certificates 2018.03.07 0
        - cmake 3.12.2 he025d50_0
        - m2-msys2-runtime 2.5.0.17080.65c939c 3
        - m2-patch 2.7.5 2
        - msys2-conda-epoch 20160418 1
        - ninja 1.8.2 py37he980bc4_1
        - openssl 1.1.1a he774522_0
        - python 3.7.1 h8c8aaf0_6
        - sqlite 3.25.3 he774522_0
        - vc 14.1 h0510ff6_4
        - vs2015_runtime 14.15.26706 h3a45250_0
        - vs2017_win-64 19.15.26726 h3c6f0ee_0
    host:
        - bzip2 1.0.6 hfa6e2cd_5
        - ca-certificates 2018.03.07 0
        - libiconv 1.15 h1df5818_7
        - libxml2 2.9.8 hadb2253_1
        - lz4-c 1.8.1.2 h2fa13f4_0
        - lzo 2.10 h6df0209_2
        - openssl 1.1.1a he774522_0
        - vc 14.1 h0510ff6_4
        - vs2015_runtime 14.15.26706 h3a45250_0
        - xz 5.2.4 h2fa13f4_4
        - zlib 1.2.11 h62dcd97_3
        - zstd 1.3.7 h508b16e_0
    run:
        - bzip2 >=1.0.6,<2.0a0
        - libxml2 >=2.9.8,<2.10.0a0
        - lz4-c >=1.8.1.2,<1.9.0a0
        - lzo >=2.10,<3.0a0
        - openssl >=1.1.1a,<1.1.2a
        - vc >=14.1,<15.0a0
        - xz >=5.2.4,<6.0a0
        - zlib >=1.2.11,<1.3.0a0
        - zstd >=1.3.7,<1.3.8.0a0
test:
    commands:
        - bsdcat --version
        - bsdcpio --version
        - bsdtar --version
        - bsdtar -tf test/hello_world.xar
    files:
        - test/hello_world.xar
about:
    home: http://www.libarchive.org/
    license: BSD 2-Clause
    summary: Multi-format archive and compression library
extra:
    copy_test_source_files: true
    final: true
    recipe-maintainers:
        - jakirkham
        - mingwandroid
